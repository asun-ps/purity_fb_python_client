# Pure Storage FlashBlade REST 1.9 Python SDK Documentation
Pure Storage FlashBlade REST 1.9 Python SDK. Compatible with REST API versions 1.0 - 1.9. Developed by [Pure Storage, Inc](http://www.purestorage.com/). Documentations can be found at [purity-fb.readthedocs.io](http://purity-fb.readthedocs.io/).

This Python package is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:

- API version: 1.9
- Package version: 1.9.2
- Build package: io.swagger.codegen.languages.PythonClientCodegen
For more information, please visit [http://www.purestorage.com](http://www.purestorage.com)

## Release Notes

### Package version: 1.9.2
- Package version 1.9.2 of this SDK contains changes which may **break** the functionality of code written against previous versions of the SDK. These changes have been made to fix issues where operations in the SDK did not properly align with the corresponding endpoint operations of version 1.9 of FlashBlade's REST API.

- The parameters for list/update/delete functions in `array_connections_api.py` have changed. The `name` parameter, which was a part of the REST API, has been removed and replaced by `remote_names` and `remote_ids`.

```python
fb = PurityFb("10.255.9.28", version="1.9")
# list array connections with 'remote_names'
res = fb.array_connections.list_array_connections(remote_names=['my-connected-array'])
# list array connections with 'remote_ids'
res = fb.array_connections.list_array_connections(
    remote_ids=['10314f42-020d-7080-8013-000ddd400090'])
```

- The update/delete functions in `file_systems_api.py` and `file_system_snapshots_api.py` no longer require the `name` parameter. This is to support the option of performing these operations by guid using the `ids` parameter.

```python
# update a file system object with a new provisioned size. enable hard limits.
# enable NFSv4.1, and disable NFSv3. enable SMB in native ACL mode. disable HTTP
# adjust the default user quota to a new value
# note that name field should be None
new_attr = FileSystem(provisioned=1024, hard_limit_enabled=True, nfs=NfsRule(v3_enabled=False,
                        v4_1_enabled=True), http=ProtocolRule(enabled=False),
                        smb=SmbRule(enabled=True, acl_mode="native"), default_user_quota=4096)
# update the file system with id '10314f42-020d-7080-8013-000ddt400090' on the array
res = fb.file_systems.update_file_systems(ids=['10314f42-020d-7080-8013-000ddt400090'],
                                        ignore_usage=True, attributes=new_attr)
```

### Package version: 1.9.0
- Starting with package version 1.9.0, this SDK is **incompatible** with Python 3.7 or higher.
- Starting with package version 1.9.0, the `account` parameter in the `create_buckets` function
has been renamed to `bucket`. This is only applicable for API version 1.9+, and previous API
versions still use `account`:

```python
# Using API version 1.9
fb = PurityFb("10.255.9.28", version="1.9")
attr = BucketPost()
attr.account = Reference(name='myaccount')
res = fb.buckets.create_buckets(names=["mybucket"], bucket=attr)

# Using API version 1.8
fb = PurityFb("10.255.9.28", version="1.8")
attr = BucketPost()
attr.account = Reference(name='myaccount')
res = fb.buckets.create_buckets(names=["mybucket"], account=attr)
```


## Requirements

* __Python 2.7 or Python 3.4-3.6__
* certifi
* python-dateutil
* six >= 1.10
* urllib3 >= 1.15


## Installation & Usage
### pip install

There are two ways to use pip to install.

The first is the easiest, i.e., using pypi:

```sh
pip install purity_fb
```

The second is to install from Github:



```sh
pip install git+https://github.com/purestorage/purity_fb_python_client.git
```
(you may need to run `pip` with root permission: `sudo pip install git+https://github.com/purestorage/purity_fb_python_client.git`)

Then import the package:
```python
import purity_fb
```

### Setuptools

Install via [Setuptools](http://pypi.python.org/pypi/setuptools).

```sh
python setup.py install --user
```
(or `sudo python setup.py install` to install the package for all users)

Then import the package:
```python
import purity_fb
```

## Getting Started

Please follow the [installation procedure](#installation--usage) and then run the following:

```python
from purity_fb import PurityFb, FileSystem, FileSystemSnapshot, SnapshotSuffix, rest

# create PurityFb object for a certain array
fb = PurityFb("10.255.8.20")
# this is required for versions before Purity//FB 2.1.3 because they only supports self-signed
# certificates. in later versions, this may be unnecessary if you have imported a certificate.
fb.disable_verify_ssl()
try:
    fb.login("T-e7e551be-fe5d-4669-baf5-670cd8ea0560")

    ## manage file systems
    fs_obj = FileSystem(name="myfs", provisioned=50000)
    # create a file system named myfs
    fb.file_systems.create_file_systems(fs_obj)
    # list all existing file systems
    fb.file_systems.list_file_systems()
    # destroy the file system myfs
    fb.file_systems.update_file_systems(name="myfs", attributes=FileSystem(destroyed=True))
    # eradicate the file system myfs
    fb.file_systems.delete_file_systems(name="myfs")

    ## manage file system snapshots
    fb.file_system_snapshots.create_file_system_snapshots(sources=["myfs"], suffix=SnapshotSuffix("mysnap"))
    fb.file_system_snapshots.list_file_system_snapshots()
    # destroy the file system snapshot myfs.mysnap
    fb.file_system_snapshots.update_file_system_snapshots(name="myfs.mysnap", attributes=FileSystemSnapshot(destroyed=True))
    # eradicate the file system snapshot myfs.mysnap
    fb.file_system_snapshots.delete_file_system_snapshots(name="myfs.mysnap")

    fb.logout()
except rest.ApiException as e:
    print("Exception: %s\n" % e)
```

## Documentation for PurityFb

A *PurityFb* object represents a FlashBlade device.

```class purity_fb.PurityFb(host, version=None, api_token=None)```

### *host*
The argument *host* is required, which is the IP address or host name of the device.
### *version*
The optional argument *version* is the REST version number that the client wants to target at.
If absent, the latest version is chosen.
### *api_token*
The optional argument *api_token* will be used to log into the array if specified.


### Methods


Following are generic methods for all versions.

Method | Parameters | Description
------------- | ------------- | -------------
*disable_verify_ssl* | none | Disable certificate verification for SSL. **This method must be executed before any other calls.**|
*list_versions* | none | List all available REST versions of the array. Public, authentication not required. |
*login* | *api_token* | Login to the REST server with a specified *api-token*. **This method must be executed successfully before making any function calls to any APIs.** | 
*logout* | n/a | Logout from the REST server |


Note: Purity//FB 2.2 and later versions do support configuring certificates for REST server. However, when a certificate is not configured, a user is required to call *disable_verify_ssl* before making any other function calls.
Once SSL verification is disabled, there will be warnings like the following:


```python
/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/urllib3-1.20-py3.6.egg/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning)
```
These warnings could be disabled using [urllib3.disable_warnings](http://urllib3.readthedocs.io/en/latest/reference/index.html#urllib3.disable_warnings).


### **Endpoint Properties**

Once *login* succeeds, different endpoints could be accessed through the following read-only properties of *PurityFb* objects.


#### **Non-version Endpoints**

First, there are general endpoints that are not specific to versions, including *api_version*
and *authentication*.

Property | Type | Descripstion
------------ | ------------- | -------------
*api_version* | [**VersionApi**](VersionApi.md)  | Public APIs for querying supported REST versions. |
*authentication* | [**AuthenticationApi**](AuthenticationApi.md)  | Login/logout APIs. |


#### **Versioned Endpoints**

Second, there are versioned endpoints that are secured by authentication and could be different from version to version.
One can specify the *version* parameter when creating a *PurityFb* object to choose APIs for a specific REST version.
If *version* is not specified, by default, the most recent REST version available on the server is chosen.


#### Call with HTTP information
Every method of each endpoint returns an object representing the body of the response from the server.
If other information such as response status code or response header is needed, the corresponding method 
```XXX_with_http_info()``` can be used. 
  
For example,

```python
fb = purity_fb.PurityFb("10.255.3.20")
fb.disable_verify_ssl()
fb.login("T-1eeb15b4-1288-49b2-b0cc-5a7c9e5d524f")
data = fb.file_systems.create_file_systems(FileSystem(name="myfs"))
```

Here *response_data* has type [FileSystemResponse](FileSystemResponse.md). 
And if call with HTTP information, both the response status and header will be returned as well.

```(data, status, header) = fb.file_systems.create_file_systems_with_http_info(FileSystem(name="myfs"))```

### Request Timeout Configuration


#### Global Request Timeout

The property *PurityFb.request_timeout* allows one to get or update the global request timeout used by default for
all API calls. The default *request_timeout* is 10 seconds for connection, and 30 seconds for read.


Property | Type | Descripstion
------------ | ------------- | -------------
*request_timeout* | [**urllib3.Timeout**](http://urllib3.readthedocs.io/en/latest/reference/urllib3.util.html) | Set or get the global request timeout for accessing the device. |


For example, ```fb.request_timeout = urllib3.Timeout(connect=8.0, read=20.0)```. This updates all API call to have 8 seconds connection
timeout and 20 seconds read timeout by default.


#### One-time-only Request Timeout


All APIs support the keyword parameter *_request_timeout* 
(of type [**urllib3.Timeout**](http://urllib3.readthedocs.io/en/latest/reference/urllib3.util.html) ) 
to specify request timeout for a specific API call.

For example, 

```fb.file_systems.create_file_systems(FileSystem(name="myfs"), _request_timeout=urllib3.Timeout(connect=5.0, read=15.0))}} ```


### Retries

The property *PurityFb.request_retry* allows one to get or update the global retry setting used by default for
all API calls. The default *request_retry* is 5 retries per call.


Property | Type | Descripstion
------------ | ------------- | -------------
*request_retry* | [**urllib3.Retry**](http://urllib3.readthedocs.io/en/latest/reference/urllib3.util.html) | Set or get the global request timeout for accessing the device. |


For example, ```fb.request_retry = urllib3.Retry(total=20, connect=15, read=15)```. This updates all API call to have 
at most 20 retries in total, among which at most 15 connection retries and at most 15 read retries.


## Documentation For Models

 - [Admin](Admin.md)
 - [AdminApiToken](AdminApiToken.md)
 - [AdminCache](AdminCache.md)
 - [AdminCacheResponse](AdminCacheResponse.md)
 - [AdminResponse](AdminResponse.md)
 - [Alert](Alert.md)
 - [AlertResponse](AlertResponse.md)
 - [AlertWatcher](AlertWatcher.md)
 - [AlertWatcherPost](AlertWatcherPost.md)
 - [AlertWatcherResponse](AlertWatcherResponse.md)
 - [AlertWatcherTest](AlertWatcherTest.md)
 - [AlertWatcherTestResponse](AlertWatcherTestResponse.md)
 - [ArrayConnection](ArrayConnection.md)
 - [ArrayConnectionKey](ArrayConnectionKey.md)
 - [ArrayConnectionKeyResponse](ArrayConnectionKeyResponse.md)
 - [ArrayConnectionPath](ArrayConnectionPath.md)
 - [ArrayConnectionPathResponse](ArrayConnectionPathResponse.md)
 - [ArrayConnectionPost](ArrayConnectionPost.md)
 - [ArrayConnectionResponse](ArrayConnectionResponse.md)
 - [ArrayHttpPerformance](ArrayHttpPerformance.md)
 - [ArrayHttpPerformanceResponse](ArrayHttpPerformanceResponse.md)
 - [ArrayNfsPerformance](ArrayNfsPerformance.md)
 - [ArrayNfsPerformanceResponse](ArrayNfsPerformanceResponse.md)
 - [ArrayPerformance](ArrayPerformance.md)
 - [ArrayPerformanceReplicationResponse](ArrayPerformanceReplicationResponse.md)
 - [ArrayPerformanceResponse](ArrayPerformanceResponse.md)
 - [ArrayResponse](ArrayResponse.md)
 - [ArrayS3Performance](ArrayS3Performance.md)
 - [ArrayS3PerformanceResponse](ArrayS3PerformanceResponse.md)
 - [ArraySpace](ArraySpace.md)
 - [ArraySpaceResponse](ArraySpaceResponse.md)
 - [Audit](Audit.md)
 - [AuditResponse](AuditResponse.md)
 - [Blade](Blade.md)
 - [BladeResponse](BladeResponse.md)
 - [Bucket](Bucket.md)
 - [BucketPatch](BucketPatch.md)
 - [BucketPerformance](BucketPerformance.md)
 - [BucketPerformanceResponse](BucketPerformanceResponse.md)
 - [BucketPost](BucketPost.md)
 - [BucketReplicaLink](BucketReplicaLink.md)
 - [BucketReplicaLinkPost](BucketReplicaLinkPost.md)
 - [BucketReplicaLinkResponse](BucketReplicaLinkResponse.md)
 - [BucketResponse](BucketResponse.md)
 - [BucketS3Performance](BucketS3Performance.md)
 - [BucketS3PerformanceResponse](BucketS3PerformanceResponse.md)
 - [BuiltIn](BuiltIn.md)
 - [BuiltInWithId](BuiltInWithId.md)
 - [Certificate](Certificate.md)
 - [CertificateGroup](CertificateGroup.md)
 - [CertificateGroupResponse](CertificateGroupResponse.md)
 - [CertificateGroupUse](CertificateGroupUse.md)
 - [CertificateGroupUseResponse](CertificateGroupUseResponse.md)
 - [CertificatePost](CertificatePost.md)
 - [CertificateResponse](CertificateResponse.md)
 - [CertificateUse](CertificateUse.md)
 - [CertificateUseResponse](CertificateUseResponse.md)
 - [ClientPerformance](ClientPerformance.md)
 - [ClientPerformanceResponse](ClientPerformanceResponse.md)
 - [Direction](Direction.md)
 - [DirectoryService](DirectoryService.md)
 - [DirectoryServiceResponse](DirectoryServiceResponse.md)
 - [DirectoryServiceRole](DirectoryServiceRole.md)
 - [DirectoryServiceRolesResponse](DirectoryServiceRolesResponse.md)
 - [DirectoryserviceManagement](DirectoryserviceManagement.md)
 - [DirectoryserviceNfs](DirectoryserviceNfs.md)
 - [DirectoryserviceSmb](DirectoryserviceSmb.md)
 - [Dns](Dns.md)
 - [DnsResponse](DnsResponse.md)
 - [ErrorResponse](ErrorResponse.md)
 - [FileSystem](FileSystem.md)
 - [FileSystemPerformance](FileSystemPerformance.md)
 - [FileSystemPerformanceResponse](FileSystemPerformanceResponse.md)
 - [FileSystemReplicaLink](FileSystemReplicaLink.md)
 - [FileSystemReplicaLinkResponse](FileSystemReplicaLinkResponse.md)
 - [FileSystemResponse](FileSystemResponse.md)
 - [FileSystemSnapshot](FileSystemSnapshot.md)
 - [FileSystemSnapshotResponse](FileSystemSnapshotResponse.md)
 - [FileSystemSnapshotTransferResponse](FileSystemSnapshotTransferResponse.md)
 - [FileSystemSnapshotsTransfer](FileSystemSnapshotsTransfer.md)
 - [FixedReference](FixedReference.md)
 - [FixedReferenceNoResourceType](FixedReferenceNoResourceType.md)
 - [FixedReferenceWithId](FixedReferenceWithId.md)
 - [FixedReferenceWithRemote](FixedReferenceWithRemote.md)
 - [Hardware](Hardware.md)
 - [HardwareConnector](HardwareConnector.md)
 - [HardwareConnectorResponse](HardwareConnectorResponse.md)
 - [HardwareResponse](HardwareResponse.md)
 - [Keytab](Keytab.md)
 - [KeytabDownloadUploadResponse](KeytabDownloadUploadResponse.md)
 - [KeytabResponse](KeytabResponse.md)
 - [LinkAggregationGroup](LinkAggregationGroup.md)
 - [LinkAggregationGroupResponse](LinkAggregationGroupResponse.md)
 - [Linkaggregationgroup](Linkaggregationgroup.md)
 - [LocationReference](LocationReference.md)
 - [LoginResponse](LoginResponse.md)
 - [Member](Member.md)
 - [MemberLink](MemberLink.md)
 - [MemberResponse](MemberResponse.md)
 - [NetworkInterface](NetworkInterface.md)
 - [NetworkInterfaceResponse](NetworkInterfaceResponse.md)
 - [NfsRule](NfsRule.md)
 - [ObjectStoreAccessKey](ObjectStoreAccessKey.md)
 - [ObjectStoreAccessKeyResponse](ObjectStoreAccessKeyResponse.md)
 - [ObjectStoreAccount](ObjectStoreAccount.md)
 - [ObjectStoreAccountResponse](ObjectStoreAccountResponse.md)
 - [ObjectStoreRemoteCredentials](ObjectStoreRemoteCredentials.md)
 - [ObjectStoreRemoteCredentialsResponse](ObjectStoreRemoteCredentialsResponse.md)
 - [ObjectStoreUser](ObjectStoreUser.md)
 - [ObjectStoreUserResponse](ObjectStoreUserResponse.md)
 - [Objectstoreaccesskey](Objectstoreaccesskey.md)
 - [PaginationInfo](PaginationInfo.md)
 - [PerformanceReplication](PerformanceReplication.md)
 - [PerformanceReplicationResponse](PerformanceReplicationResponse.md)
 - [Policy](Policy.md)
 - [PolicyMember](PolicyMember.md)
 - [PolicyMemberResponse](PolicyMemberResponse.md)
 - [PolicyMemberWithRemote](PolicyMemberWithRemote.md)
 - [PolicyMemberWithRemoteResponse](PolicyMemberWithRemoteResponse.md)
 - [PolicyObjects](docs/PolicyObjects.md)
 - [PolicyObjectsResponse](docs/PolicyObjectsResponse.md)
 - [PolicyPatch](PolicyPatch.md)
 - [PolicyReference](docs/PolicyReference.md)
 - [PolicyReferenceWithId](PolicyReferenceWithId.md)
 - [PolicyResponse](PolicyResponse.md)
 - [PolicyRule](PolicyRule.md)
 - [ProtocolRule](ProtocolRule.md)
 - [PureArray](PureArray.md)
 - [PureError](PureError.md)
 - [QuotasGroup](QuotasGroup.md)
 - [QuotasGroupResponse](QuotasGroupResponse.md)
 - [QuotasSetting](QuotasSetting.md)
 - [QuotasSettingResponse](QuotasSettingResponse.md)
 - [QuotasUser](QuotasUser.md)
 - [QuotasUserResponse](QuotasUserResponse.md)
 - [QuotasgroupGroup](QuotasgroupGroup.md)
 - [QuotasuserUser](QuotasuserUser.md)
 - [Reference](Reference.md)
 - [ReferenceName](ReferenceName.md)
 - [RelationshipPerformanceReplication](RelationshipPerformanceReplication.md)
 - [RelationshipPerformanceReplicationResponse](RelationshipPerformanceReplicationResponse.md)
 - [ReplicaLinkBuiltIn](ReplicaLinkBuiltIn.md)
 - [ReplicationPerformance](ReplicationPerformance.md)
 - [Resource](Resource.md)
 - [ResourceType](ResourceType.md)
 - [ResourceRule](docs/ResourceRule.md)
 - [SmbRule](SmbRule.md)
 - [Smtp](Smtp.md)
 - [SmtpResponse](SmtpResponse.md)
 - [SnapshotSuffix](SnapshotSuffix.md)
 - [SnmpAgent](SnmpAgent.md)
 - [SnmpAgentMib](SnmpAgentMib.md)
 - [SnmpAgentMibResponse](SnmpAgentMibResponse.md)
 - [SnmpAgentResponse](SnmpAgentResponse.md)
 - [SnmpManager](SnmpManager.md)
 - [SnmpManagerPost](SnmpManagerPost.md)
 - [SnmpManagerResponse](SnmpManagerResponse.md)
 - [SnmpManagerTest](SnmpManagerTest.md)
 - [SnmpManagerTestResponse](SnmpManagerTestResponse.md)
 - [SnmpV2c](SnmpV2c.md)
 - [SnmpV3](SnmpV3.md)
 - [Space](Space.md)
 - [Subnet](Subnet.md)
 - [SubnetResponse](SubnetResponse.md)
 - [Support](Support.md)
 - [SupportRemoteAssistPaths](SupportRemoteAssistPaths.md)
 - [SupportResponse](SupportResponse.md)
 - [Target](Target.md)
 - [TargetPost](TargetPost.md)
 - [TargetResponse](TargetResponse.md)
 - [TestResult](TestResult.md)
 - [TestResultResponse](TestResultResponse.md)
 - [VersionResponse](VersionResponse.md)


## Documentation For Authorization


## ApiTokenQueryParam

- **Type**: API key
- **API key parameter name**: api-token
- **Location**: URL query string

## AuthTokenHeader

- **Type**: API key
- **API key parameter name**: x-auth-token
- **Location**: HTTP header


## Author

[Pure Storage Inc.](http://www.purestorage.com)

